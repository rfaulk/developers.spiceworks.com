<!doctype html>
<!--[if lt IE 9]>  <html class="ie lte9"> <![endif]-->
<!--[if IE 9]>     <html class="ie ie9 lte9"> <![endif]-->
<!--[if !IE]><!--> <html class="no-ie"> <!--<![endif]-->
<html>
  <head>
    <meta charset="utf-8">

    <!-- Use title if it's in the page YAML frontmatter -->
    <title>Spiceworks Developers - Updating Help Desk Plugins</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="../../../images/favicon.gif" rel="icon" type="image/gif" />

    <link href="../../../stylesheets/application.css" rel="stylesheet" type="text/css" />
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-314222-31', 'spiceworks.com');
  ga('send', 'pageview');
</script>

  </head>

  <body data-page-name="documentation_plugins_helpdesk-v2_index" class="documentation documentation_plugins documentation_plugins_helpdesk-v2 documentation_plugins_helpdesk-v2_index">

    <header class="site-navigation sui-opt-in">
  <nav class="global-nav " data-navbar="global">
    <div class="nav-fluid-container">
      <a class="global-nav_brand" href="../../../">Home</a>
      <img src="//static.spiceworks.com/assets/masthead/print_logo.png" class="global-nav_print-logo">
    </div>
  </nav>
  <nav class="domestic-nav" data-sticky="true" data-navbar="domestic">
    <div class="nav-fluid-container">
<a class="domestic-nav_brand" href="../../../">        <div class="swoosh-logo"></div><span class="domestic-nav_title">Developers</span>
</a>      <ul class="domestic-menus">
        <li class=" domestic-menus_entry"><a href="../../../what-is-spiceworks/">What is Spiceworks?</a></li>
        <li class=" domestic-menus_entry"><a href="../../../getting-started/">Getting Started</a></li>
        <li class=" domestic-menus_entry"><a href="../../">Documentation</a></li>
        <li class=" domestic-menus_entry"><a href="../../../downloads/">Downloads</a></li>
        <li class=" domestic-menus_entry"><a href="../../../support/">Support</a></li>
      </ul>
    </div>
  </nav>
</header>


    <div class="content-wrapper sui-fluid-container">
        <div class="with-sidebar with-breadcrumbs">
    <ul class="breadcrumbs">
      <li>
        <a href="../../">Documentation</a>
      </li>
      <li>
        <a href="../">Modify Spiceworks</a>
      </li>
      <li>
        Updating Help Desk Plugins
      </li>
    </ul>

    <div class='aside-wrapper'><aside><nav class='sidebar'><h4>Modify Spiceworks</h4><ul class='nav' role='tablist'><li class=''><a href="../">Creating Plugins</a><nav class='submenu'><ul class='nav'><li class=''><a href="#creating-plugins">Creating Plugins</a></li><li class=''><a href="#what-are-plugins">What Are Plugins?</a></li><li class=''><a href="#getting-started">Getting Started</a></li><li class=''><a href="#using-multiple-files-for-a-plugin">Using Multiple Files For A Plugin</a></li><li class=''><a href="#code-templates">Code Templates</a></li><li class=''><a href="#spiceworks-apis">Spiceworks APIs</a></li><li class=''><a href="#tools-to-make-plugins-easier">Tools To Make Plugins Easier</a></li><li class=''><a href="#cloning-a-plugin">Cloning A Plugin</a></li><li class=''><a href="#firebug">Firebug</a></li><li class=''><a href="#sharing-your-plugins">Sharing Your Plugins</a></li><li class=''><a href="#helpful-plugin-pages">Helpful Plugin Pages</a></li></ul></nav></li><li class=''><a href="../your-first-plugin/">Creating Your First Plugin</a><nav class='submenu'><ul class='nav'><li class=''><a href="#creating-a-new-plugin">Creating A New Plugin</a></li><li class=''><a href="#adding-content">Adding Content</a></li><li class=''><a href="#what-s-happening">What's Happening?</a></li><li class=''><a href="#using-javascript">Using Javascript</a></li></ul></nav></li><li class=''><a href="../themes/">Themes for Spiceworks</a><nav class='submenu'><ul class='nav'><li class=''><a href="#updating-the-look-of-spiceworks-with-plugins">Updating The Look Of Spiceworks With Plugins</a></li><li class=''><a href="#changing-the-background-to-an-image">Changing The Background To An Image</a></li><li class=''><a href="#what-s-going-on-here">What's going on here?</a></li></ul></nav></li><li class=''><a href="../building-widgets/">Building Widgets</a><nav class='submenu'><ul class='nav'><li class=''><a href="#creating-new-dashboard-widgets">Creating New Dashboard Widgets</a></li><li class=''><a href="#what-s-going-on-here">What's going on here?</a></li></ul></nav></li><li class=''><a href="../adding-navigation/">Adding Navigation</a><nav class='submenu'><ul class='nav'><li class=''><a href="#adding-navigational-elements">Adding Navigational Elements</a></li><li class=''><a href="#what-s-going-on-here">What's going on here?</a></li></ul></nav></li><li class=''><a href="../reporting/">Reporting with Plugins</a><nav class='submenu'><ul class='nav'><li class=''><a href="#using-plugins-to-run-reports">Using Plugins To Run Reports</a></li><li class=''><a href="#what-s-going-on-here">What's going on here?</a></li></ul></nav></li><li class=''><a href="../messaging/">Messaging with Plugins</a><nav class='submenu'><ul class='nav'><li class=''><a href="#adding-a-message-to-spiceworks-with-plugins">Adding A Message To Spiceworks With Plugins</a></li><li class=''><a href="#what-s-going-on-here">What's going on here?</a></li></ul></nav></li><li class=''><a href="../responding-to-events/">Responding to Events</a><nav class='submenu'><ul class='nav'><li class=''><a href="#have-plugins-cause-spiceworks-to-respond-to-events-within-the-application">Have Plugins Cause Spiceworks To Respond To Events Within The Application</a></li><li class=''><a href="#what-s-going-on-here">What's going on here?</a></li></ul></nav></li><li class=''><a href="../settings/">Using Plugin Settings</a><nav class='submenu'><ul class='nav'><li class=''><a href="#creating-configurable-plugins">Creating Configurable Plugins</a></li><li class=''><a href="#what-s-going-on-here">What's going on here?</a></li></ul></nav></li><li class=''><a href="../multi-file-plugins/">Multi File Plugins</a><nav class='submenu'><ul class='nav'><li class=''><a href="#using-multiple-files-within-a-plugin">Using Multiple files within a plugin</a></li><li class=''><a href="#adding-an-image">Adding an image</a></li><li class=''><a href="#adding-and-editing-css-file">Adding and editing CSS file</a></li><li class=''><a href="#editing-the-js-file">Editing the JS file</a></li><li class=''><a href="#view-your-masterpiece">View your masterpiece</a></li></ul></nav></li><li class=''><a href="../html-plugins/">Creating HTML Plugins</a><nav class='submenu'><ul class='nav'><li class=''><a href="#create-&amp;-edit-the-plugin">Create & Edit the Plugin</a></li><li class=''><a href="#add-&amp;-edit-the-html-file">Add & Edit the HTML</a></li><li class=''><a href="#edit-the-js-file">Edit the JS file</a></li><li class=''><a href="#view-your-masterpiece">View Your Masterpiece</a></li></ul></nav></li><li class='active'><a href="./">Updating Help Desk Plugins</a><nav class='submenu'><ul class='nav'><li class=''><a href="#updating-plugins-for-helpdesk-v2">Updating Plugins for Helpdesk v2</a></li><li class=''><a href="#example-modifying-the-helpdesk-once-it-s-ready">Example: Modifying the Helpdesk once it's ready</a></li><li class=''><a href="#example-modifying-the-helpdesk-in-response-to-events">Example: Modifying the Helpdesk in response to events</a></li><li class=''><a href="#example-modifying-helpdesk-comments">Example: Modifying helpdesk comments</a></li></ul></nav></li><li class=''><a href="../language-packs/">Creating Language Packs</a><nav class='submenu'><ul class='nav'><li class=''><a href="#creating-a-language-pack">Creating A Language Pack</a></li><li class=''><a href="#sharing-a-language-pack">Sharing A Language Pack</a></li><li class=''><a href="#installing-a-language-pack">Installing A Language Pack</a></li><li class=''><a href="#enabling-a-language-pack">Enabling A Language Pack</a></li><li class=''><a href="#editing-a-language-pack">Editing A Language Pack</a></li></ul></nav></li><hr /><li class=''><a href="../examples/">Examples</a></li><li class=''><a href="../reference/">API Reference</a><nav class='submenu'><ul class='nav'><li class=''><a href="../reference/">Plugin API Overview</a></li><li class=''><a href="../reference/data-api/">Data API</a></li></ul></nav></li></ul></nav></aside></div>

    <main class="with-left-sidebar">
      <section class="documentation-hero-header">
        <img alt="Spiceworks Swoosh" src="../../../images/spiceworks-o.png" />
        <h1>Modify Spiceworks</h1>
        <hr class="divider-shadow">
      </section>
      <section class="doc-content">
        <h3 id="updating-plugins-for-helpdesk-v2">Updating Plugins for Helpdesk v2</h3>

<p>This document will aim to assist plugin authors in process of updating classic helpdesk plugins to work with Helpdesk v2.</p>

<h3 id="example:-modifying-the-helpdesk-once-it&#39;s-ready">Example: Modifying the Helpdesk once it&#39;s ready</h3>

<p>Below is a typical example of how to modify the helpdesk once it is ready using the classic helpdesk APIs:</p>
<pre class="highlight javascript"><code>  <span class="nx">SPICEWORKS</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">helpdesk</span><span class="p">.</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// do something to decorate the helpdesk after it's loaded</span>
  <span class="p">});</span>
</code></pre>

<p>For Helpdesk v2 this would become</p>
<pre class="highlight javascript"><code>  <span class="nx">$UI</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pluginEventBus</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'app:primary:show'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// do something to decorate the primary section of the page.</span>
    <span class="c1">// In the case of the helpdesk, the tickets table</span>
  <span class="p">});</span>
</code></pre>

<p>or possibly</p>
<pre class="highlight javascript"><code>  <span class="nx">$UI</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pluginEventBus</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'app:secondary:show'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// do something to decorate the secondary section of the page.</span>
    <span class="c1">// In the case of the helpdesk, the section of the page where tickets are loaded.</span>
  <span class="p">});</span>
</code></pre>

<h3 id="example:-modifying-the-helpdesk-in-response-to-events">Example: Modifying the Helpdesk in response to events</h3>

<p>There are cases where we might want to do something when a certain event occurred. For example, when a ticket is closed or opened we might want to update a counter to show the new count. Another case might be restyling a ticket&#39;s row when a ticket&#39;s due date is modified. A classic helpdesk plugin might look something like this:</p>
<pre class="highlight javascript"><code>  <span class="nx">SPICEWORKS</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="s1">'app:helpdesk:ticket:closed'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="c1">// update the ticket counter</span>
  <span class="p">});</span>

  <span class="nx">SPICEWORKS</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="s1">'app:helpdesk:ticket:opened'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="c1">// update the ticket counter</span>
    <span class="c1">// re-apply styles to the ticket table for the newly added ticket</span>
  <span class="p">});</span>
</code></pre>

<p>This might now look something like:</p>
<pre class="highlight javascript"><code>  <span class="nx">$UI</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pluginEventBus</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'app:helpdesk:ticket:change:status'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">ticket</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// update the ticket counter</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">ticket</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="s1">'open'</span><span class="p">)</span> <span class="p">{</span>
       <span class="c1">// re-apply styles to the ticket table for thew newly added ticket</span>
    <span class="p">}</span>
  <span class="p">});</span>
</code></pre>

<h3 id="example:-modifying-helpdesk-comments">Example: Modifying helpdesk comments</h3>

<p>Let&#39;s say in the classic helpdesk a plugin changed the color of comments like so:</p>
<pre class="highlight javascript"><code>  <span class="nx">SPICEWORKS</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">helpdesk</span><span class="p">.</span><span class="nx">ticket</span><span class="p">.</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="c1">// change the comment background color.</span>
  <span class="p">});</span>
</code></pre>

<p>We will now need to listen for an event that adds the ticket pane to the DOM. In addition, if you wanted to change the color of a comment once it is added to a ticket, you can:</p>
<pre class="highlight javascript"><code>  <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">){</span>
    <span class="nx">$UI</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pluginEventBus</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'app:secondary:show'</span><span class="p">,</span> <span class="nx">changeCommentColor</span><span class="p">)</span>
                          <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'app:helpdesk:ticket:comment:show'</span><span class="p">,</span> <span class="nx">changeCommentColor</span><span class="p">);</span>

    <span class="kd">function</span> <span class="nx">changeCommentColor</span> <span class="p">()</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="s1">'.activity-event'</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">'background'</span><span class="p">,</span> <span class="s1">'yellow'</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">})(</span><span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span><span class="p">);</span>
</code></pre>

      </section>
    </main>
  </div>

    </div>

    <footer>
  <div class="sui-fluid-container">
    <a href="http://spiceworks.com" class="spiceworks-brand">
      <img alt="Spiceworks Logo" src="../../../images/spiceworks_reversed.png" />
    </a>
    <div class="mid-section">
      <div class="copy-wrapper">
        <p>An IT application, community, and marketplace all rolled into one. Spiceworks is the network more than 6 million IT professionals use to connect with one another and over 3,000 technology brands.</p>
        <p><a href="http://spiceworks.com">Learn More <span class="arrows">»</span></a></p>
      </div>
      <div class="button-wrapper">
        <a class="btn btn-orange is-outlined" href="../../../support/">Contact Us</a>
      </div>
    </div>
    <div class="bottom-section">
      <span class="copyright">© Copyright 2006-14 Spiceworks, Inc.</span>
      <ul class="footer-links">
        <li><a href="//www.spiceworks.com/about">About</a></li>
        <li><a href="//www.spiceworks.com/app">App</a></li>
        <li><a href="//www.spiceworks.com/downloads">Downloads</a></li>
        <li><a href="//community.spiceworks.com">Community</a></li>
        <li><a href="//www.spiceworks.com/marketing">Advertising</a></li>
      </ul>
    </div>
  </div>
</footer>


    
    <script src="../../../javascripts/application.js" type="text/javascript"></script>
  </body>
</html>
